<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script>
// Fade in
// stretch in horizontal/vertical
// shrink in horizontal/vertical
var be = { };
var beSettings = {
	speed: 1200
}

$(document).ready(function() {
	bigEntranceSetup();	
});

$(window).scroll(function() {
	checkBe();
});

function bigEntranceSetup() {
	$(".bigEntrance").each(function() {
		if ($(this).hasClass('fade')) {
			be[$(this).attr('id')]= 'fade';	
			$(this).hide();
		}
		if ($(this).hasClass('vStretch')) {
			be[$(this).attr('id')]= 'vStretch';	
			$(this).hide();
			var valueFactor = $(this).css("height");
			$(this).css("height","0px");
			$(this).css("margin-bottom",valueFactor);
		}
		if ($(this).hasClass('hStretch')) {
			be[$(this).attr('id')]= 'hStretch';	
			$(this).hide();
			var valueFactor = $(this).css("height");
			$(this).css("width","0px");
			$(this).css("marginRight",valueFactor);
		}
	});
	checkBe();
	return true;
}
function beEffect(key, type) {
	switch (type) {
		case 'fade':
			$('#'+key).fadeIn(beSettings.speed);
		break;
		case 'vStretch':
			$('#'+key).show();
			var valueFactor = $('#'+key).css("marginBottom");
			$('#'+key).animate({height: valueFactor, marginBottom: "0"},beSettings.speed);
		break;	
		case 'hStretch':
			$('#'+key).show();
			var valueFactor = $('#'+key).css("marginRight");
			$('#'+key).animate({width: valueFactor, marginRight: "0"},beSettings.speed);
		break;		
	}
}

function checkBe() {
	var scrollBottom = $(window).scrollTop() + $(window).height();
	for (var key in be) {
		var offset = $('#'+key).offset();
		if((scrollBottom > offset.top) && $('#'+key).css('display')== 'none') {
			beEffect(key, be[key]);
			console.log('triggered');
    	}
	}	
}

</script>
</head>

<body>

<div style="display:inline-block;background-color:#ddd;border:1px solid black;height:500px;width:30%;float:left;" id="derka" class="bigEntrance hStretch">der Fade In</div>
<div style="display:inline-block;height:500px;border:1px solid black;width:30%;background-color:#000;float:left;" id="second" class="bigEntrance vStretch">asdfasdf</div>
<div style="display:inline-block;height:500px;border:1px solid black;width:30%;background-color:#000;" id="third" class="bigEntrance fade">asdfasdf</div>
<div></div>
</body>
</html>
